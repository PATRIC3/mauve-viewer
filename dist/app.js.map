{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./demo/main.js","webpack:///./src/backbone.js","webpack:///./src/colors.js","webpack:///./src/consts.js","webpack:///./src/container.html","webpack:///./src/cursor.js","webpack:///./src/mauve-viewer.js","webpack:///./src/track-ctrl.js","webpack:///./src/track.js"],"names":["api","main","Promise","all","then","d3","axios","get","res","data","ele","document","getElementById","labels","ext","ids","forEach","lcbs","r","name","split","pop","replace","includes","push","url","join","mapping","org","genome_id","genome_name","catch","e","alert","message","error","BackBone","params","svg","x","scale","render","midSets","lcbMids","l","hidden","start","end","y","_getRegionYPos","lcb_idx","strand","lineFunction","line","d","set","i","datum","insert","attr","newScale","selectAll","map","p","trackIdx","strandDirection","schemeCategory20","module","exports","marginTop","trackOffset","hideTrackOffset","yPosOffset","lcbHeight","ctrlPadding","Cursor","container","trackCount","hoverLines","yPos","append","style","resetHover","lines","on","lengthNode","querySelector","ntPosNode","length","clientX","event","clientY","elementFromPoint","select","tagName","classList","contains","xPos","mouse","hoverStrand","Math","round","invert","relXPos","groupID","each","nextXPos","innerHTML","relatedTarget","MauveViewer","hiddenTracks","init","getGenomeRegions","regions","genomeRegions","Object","keys","setReference","rendered","initControls","endMax","max","concat","apply","region","xLength","console","log","remove","width","height","zoom","scaleExtent","translateExtent","zoomed","filter","ctrlKey","type","call","reset","axises","gXs","xScales","tracks","id","isHidden","label","track","xAxis","gX","isReference","onMoveUp","moveTrackUp","onMoveDown","moveTrackDown","onSetReference","onHide","hideTrack","onShow","showTrack","cursor","backbone","srcEvent","sourceEvent","transform","rescaleX","rescaleAxis","zoomIdentity","swapID","swapTrack","swapBackbones","newID","oldID","lcb","foundOldRegion","foundSwapRegion","sort","a","b","noRerender","flipped","splice","indexOf","maxRows","filtered","regionID","lcbID","index","regionCount","lcbCount","onclick","toggle","evt","dd","target","matches","dds","getElementsByClassName","Array","from","btnStyle","TrackCtrl","ctrls","destroy","mvPos","getBoundingClientRect","svgPos","relativeTop","top","node","createElement","setAttribute","left","position","_addMainButtons","appendChild","_getButtons","upBtn","downBtn","hideBtn","refBtn","add","title","disabled","bind","refTrack","showBtn","_selectNewRef","_getShowButton","eles","querySelectorAll","oldCtrl","newCtrl","newCtrlWasActive","Track","hiddenTrack","scaleLinear","domain","range","axisBottom","ticks","tickSize","tickFormat","format","g","text","addRegions","numOfLCBs","enter"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,kDAA0C;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA,yCAAiC;;AAEjC;AACA;AACA;AACA,aAAK;AACL;AACA;AACA;AACA,cAAM;AACN;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAwB,kCAAkC;AAC1D,cAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;AACA;AACA;AACA,wBAAgB,uBAAuB;AACvC;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;AClMA;AAEA,IAAMA,GAAG,GAAG,kDAAZ;;AAEA,SAASC,IAAT,GAAgB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","file":"app.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\tvar error = new Error('Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')');\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\thead.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nimport MauveViewer from '../src/mauve-viewer';\n\nconst api = 'https://p3.theseed.org/services/data_api/genome/'\n\nfunction main() {\n\n    Promise.all([import('d3'), import('axios')]).then(([d3, axios]) => {\n\n        axios.get(`3-ecoli.json`).then(res => {\n            let data = res.data;\n            let ele = document.getElementById('chart');\n            new MauveViewer({ele, data, d3, labels: {}});\n            return\n\n            // use different labels for each track (optional)\n            // Todo: store list of names in alginment file\n            let ext;\n            let ids = []\n            data.forEach(lcbs => {\n                lcbs.forEach(r => {\n                    ext = r.name.split('.').pop();\n                    let name = r.name.replace(`.${ext}`, '');\n                    if (!ids.includes(name)) ids.push(name);\n                })\n            })\n\n            let url = `${api}?in(genome_id,(${ids.join(',')}))&select(genome_id,genome_name)`;\n            axios.get(url)\n                .then(res => {\n                    let mapping = {};\n                    res.data.forEach(org => {\n                        mapping[`${org.genome_id}.${ext}`] = org.genome_name;\n                    })\n\n                    new MauveViewer({ele, data, d3, labels: mapping});\n                })\n\n        }).catch(e => {\n            alert(`Could not fetch alignment json: ${e.message}`)\n        })\n    }).catch(error => 'An error occurred while loading the component');\n\n}\n\nmain();","\nimport {schemeCategory20} from './colors';\nimport {marginTop, trackOffset, yPosOffset, lcbHeight} from './consts';\n\nexport class BackBone {\n\n    constructor(params) {\n        this.d3 = params.d3;\n        this.svg = params.svg;\n\n        this.data = params.data;\n        this.x = params.scale\n\n        this.render(this.data);\n\n        return this;\n    }\n\n    render(data) {\n        // local (not const)\n        let x = this.x;\n\n        // compute all LCB midpoints as list of objects through backbone\n        let midSets = [];\n        data.forEach((lcbs) => {\n            let lcbMids = [];\n            lcbs.forEach(l => {\n                if (l.hidden) return;\n\n                lcbMids.push({\n                    start: l.start,\n                    end: l.end,\n                    x:  x(l.start) + ( (x(l.end) - x(l.start))  / 2 ) ,\n                    y: marginTop + this._getRegionYPos(l.lcb_idx, l.strand) + (lcbHeight/2)\n                });\n            })\n\n            midSets.push(lcbMids);\n        })\n\n        // draw connections using lineFunction\n        // keep line function for scaling\n        this.lineFunction = this.d3.line()\n            .x(d => d.x)\n            .y(d => d.y)\n\n        midSets.forEach((set, i) => {\n            this.svg.datum(set)\n                .insert(\"path\",\":first-child\")\n                .attr('class', 'lcb-line')\n                .attr(\"d\", this.lineFunction(set))\n                .attr(\"stroke-width\", 1)\n                .attr('stroke', schemeCategory20[i % 20])\n                .attr('fill', 'none')\n\n        })\n\n        return midSets;\n    }\n\n    scale(newScale) {\n        this.svg.selectAll('path.lcb-line')\n            .attr(\"d\", d => {\n                let set = d.map(p => {\n                    return {\n                        start: p.start,\n                        end: p.end,\n                        x: newScale(p.start) + ( (newScale(p.end) - newScale(p.start))  / 2 ),\n                        y: p.y\n                    }\n                })\n\n                return this.lineFunction(set)\n            });\n    }\n\n\n    _getRegionYPos(trackIdx, strandDirection) {\n        return (strandDirection === '-' ? yPosOffset + lcbHeight : yPosOffset) + ((trackIdx-1) * trackOffset);\n    }\n}\n","\nconst schemeCategory20 = [\n    '#1f77b4',\n    '#aec7e8',\n    '#ff7f0e',\n    '#ffbb78',\n    '#2ca02c',\n    '#98df8a',\n    '#d62728',\n    '#ff9896',\n    '#9467bd',\n    '#c5b0d5',\n    '#8c564b',\n    '#c49c94',\n    '#e377c2',\n    '#f7b6d2',\n    '#7f7f7f',\n    '#c7c7c7',\n    '#bcbd22',\n    '#dbdb8d',\n    '#17becf',\n    '#9edae5'\n]\n\nmodule.exports =  {\n    schemeCategory20\n}","\n\n\nexport const marginTop = 20;     // margin of canvas top\nexport const trackOffset = 105; // distance between axises\nexport const hideTrackOffset = 35;\nexport const yPosOffset = 30;   // distance of regions from x-axis\nexport const lcbHeight = 22;    // height of regions (rectangles)\nexport const ctrlPadding = 6;\n","module.exports = \"\\n\\n<div class=\\\"mauve-viewer\\\" style=\\\"position: relative;\\\">\\n    <div class=\\\"mv-header\\\" style=\\\"text-align: left;\\\">\\n        <h4 class=\\\"title\\\">Mauve Viewer (Alpha)</h4>\\n        <div class=\\\"help-text\\\">\\n            <b>Tips:</b> click and drag to pan; use ctrl-scroll or double click to zoom.\\n        </div><br>\\n        <button class=\\\"reset-btn\\\">Reset</button>\\n\\n        <div class=\\\"dropdown\\\">\\n            <button class=\\\"opts-btn dd-btn\\\">Options <i class=\\\"caret-down\\\"></i></button>\\n            <div class=\\\"dd-content\\\">\\n                <div>\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"fileNames\\\" value=\\\"fileNames\\\" />\\n                        Show File Names\\n                    </label>\\n                </div>\\n                <div>Hide track controls</div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"cursor-info pull-right\\\">\\n            <span class=\\\"nt-pos\\\">-</span>\\n            LCB Length: <span class=\\\"lcb-length\\\">-</span>\\n        </div>\\n\\n\\n        <br>\\n    </div>\\n    <br>\\n    <div class=\\\"mv-chart\\\">\\n        <svg></svg>\\n\\n        <div style=\\\"position: relative;\\\">\\n            <div class=\\\"mv-context-menu\\\" style=\\\"display: none;\\\">\\n                <ul>\\n                    <li id=\\\"nucleotide-align\\\">Align by nucleotide</li>\\n                    <li>Another item</li>\\n                </ul>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";","// Todo: listen for mousemove on track container\n\nimport {marginTop, yPosOffset, lcbHeight, trackOffset} from './consts';\n\nexport class Cursor {\n\n    constructor(params) {\n        this.container = params.container;\n        this.d3 = params.d3;\n        this.svg = params.svg;\n        this.scale = params.scale;\n        this.trackCount = params.trackCount;\n\n        this.hoverLines = [];\n\n        this.render();\n\n        return this;\n    }\n\n    render() {\n        // draw the track cursor once and update\n        // position for better performance\n        for (let i=1; i <= this.trackCount; i++) {\n            let yPos = this._getRegionYPos(i, '-');\n            let line = this.svg.append('line')\n                .attr('class', 'hover-line')\n                .style('stroke', '#222' )\n                .attr('y1', marginTop + yPos - 30)\n                .attr('y2', marginTop + yPos + 30)\n\n            this.hoverLines.push(line);\n        }\n\n        this.resetHover(this.scale);\n    }\n\n    resetHover(scale) {\n        let svg = this.svg,\n            d3 = this.d3,\n            lines = this.hoverLines;\n\n        svg.selectAll('.track')\n            .on(\"mouseover\", null)\n            .on(\"mousemove\", null)\n            .on(\"mouseout\", null);\n\n        let lengthNode = this.container.querySelector('.lcb-length'),\n            ntPosNode = this.container.querySelector('.nt-pos');\n\n        let x = scale;\n\n        svg.selectAll('.track')\n            .on(\"mouseover\", function(d) {\n                for (let i=0; i < lines.length; i++) {\n                    lines[i].attr(\"opacity\", 1.0)\n                }\n            })\n            .on(\"mousemove\", function() {\n                let clientX = d3.event.clientX,\n                    clientY = d3.event.clientY;\n                let ele = document.elementFromPoint(clientX, clientY);\n                let d = d3.select(ele).data()[0];\n\n                if (!ele) return;\n\n                // ignore non-regions\n                if (ele.tagName !== 'rect' || !d || !('lcb_idx' in d)) {\n                    if (ele.classList.contains('cursor-line')) {\n                        return;\n                    }\n\n                    // if not region, hide cursors\n                    for (let i=0; i < lines.length; i++) {\n                        lines[i].attr(\"opacity\", 0);\n                    }\n                    return;\n                }\n\n                let xPos = d3.mouse(this)[0],\n                    trackIdx = d.lcb_idx,\n                    hoverStrand = d.strand;\n\n                // base xPos on nearest integer in range\n                xPos = x(Math.round(x.invert(xPos)));\n\n                // position relative to lcb\n                let relXPos = xPos - x(d.start);\n\n                // draw cursor line for rect being hovered\n                lines[trackIdx - 1]\n                    .attr('class', 'cursor-line')\n                    .attr('x1', xPos)\n                    .attr('x2', xPos);\n\n                // draw cursor line for other rects\n                let groupID = d.groupID;\n                svg.selectAll(`.group-${groupID}`).each(d => {\n                    // need to skip rect that is being hovered on\n                    if (d.lcb_idx === trackIdx) return;\n\n                    // need to compute relative position based on strand\n                    let nextXPos;\n                    if (hoverStrand !== d.strand) {\n                        nextXPos = x(d.end) - relXPos; // start + positition relative to other blocks\n                    } else {\n                        nextXPos = x(d.start) + relXPos; // start + positition relative to other blocks\n                    }\n\n                    lines[d.lcb_idx-1]\n                        .attr('x1', nextXPos)\n                        .attr('x2', nextXPos)\n                })\n\n                // set cursor-info\n                lengthNode.innerHTML = d.end - d.start + 1;\n                ntPosNode.innerHTML = Math.round(x.invert(xPos));\n            })\n            .on(\"mouseout\", function(d) {\n                // ignore hover on line\n                if (d3.event.relatedTarget &&\n                    d3.event.relatedTarget.classList.contains('cursor-line')) {\n                    return;\n                }\n\n                for (let i=0; i < lines.length; i++) {\n                    lines[i].attr(\"opacity\", 0);\n                }\n\n                lengthNode.innerHTML = '-';\n                ntPosNode.innerHTML = '-';\n            });\n    }\n\n    _getRegionYPos(trackIdx, strandDirection) {\n        return (strandDirection === '-' ? yPosOffset + lcbHeight : yPosOffset) + ((trackIdx-1) * trackOffset);\n    }\n}\n","/**\n * mauve-viewer.js\n *\n * A JS/d3.js Mauve Viewer\n *\n * Author(s): nconrad\n *\n */\n\nimport {Track} from './track';\nimport {TrackCtrl} from './track-ctrl';\nimport {BackBone} from './backbone';\nimport {Cursor} from './cursor';\nimport template from './container.html';\nimport {\n    marginTop,\n    trackOffset,\n    hideTrackOffset,\n    yPosOffset,\n    lcbHeight\n} from './consts';\n\n\n\nexport default class MauveViewer {\n    constructor({d3, ele, data, labels}){\n        this.ele = ele;\n        this.data = data;\n        this.d3 = d3;\n\n        this.labels = labels;\n\n        this.hiddenTracks = [];\n\n        this.init();\n    }\n\n    init() {\n        let {regions} = this.getGenomeRegions(this.data);\n        this.genomeRegions = regions;\n        this.trackCount = Object.keys(this.genomeRegions).length;\n\n        this.setReference(1, true);  // set first genome as reference\n\n        this.ele.innerHTML = template;\n        this.render();\n        this.rendered = true;\n\n        this.initControls(); // add global controls\n    }\n\n    render() {\n        const d3 = this.d3,\n            data = this.data;\n\n        const genomeRegions = this.genomeRegions;\n        const trackCount = this.trackCount;\n\n        // get highest end value\n        const endMax = Math.max(...[].concat.apply([], data).map(region => region.end));\n        const xLength = endMax + 100;\n        console.log('xLength', xLength)\n\n        // create svg dom element\n        d3.select(this.ele.querySelector('svg')).remove();\n        const svg = d3.select(this.ele.querySelector('.mv-chart')).append(\"svg\")\n            .attr('width', 1000)\n            .attr('height', trackCount * 165)\n\n        const width = +svg.attr(\"width\"),\n            height = +svg.attr(\"height\");\n\n        /**\n         *  ctrl-mousewheel for zoom\n         */\n        let zoom = d3.zoom()\n            .scaleExtent([0, xLength/10])\n            .translateExtent([[-width, 0], [width + 100, 0]])\n            .on(\"zoom\", zoomed)\n            .filter(() => (\n                d3.event.ctrlKey ||\n                d3.event.type === 'mousedown' ||\n                d3.event.type == 'dblclick'\n            ))\n\n        svg.call(zoom);\n\n        d3.select(this.ele.querySelector('.reset-btn'))\n            .on(\"click\", reset);\n\n        /**\n         *  create tracks (axises, scales, gXs)\n         */\n        let axises = [],\n            gXs = [],\n            xScales = [],\n            tracks = [];\n\n        let yPos = marginTop;\n        for (let id = 1; id <= trackCount; id++) {\n            let isHidden = this.hiddenTracks.includes(id);\n            yPos += id === 1 ? 0 : (isHidden ? hideTrackOffset : trackOffset);\n\n            let name = genomeRegions[id][0].name,\n                label = this.labels ? this.labels[name] : '';\n\n            let track = new Track({\n                d3, yPos, svg, id, name, label,\n                width, xLength,\n                hidden: isHidden,\n                regions: genomeRegions[id]\n            })\n\n            axises.push(track.xAxis);\n            gXs.push(track.gX);\n            xScales.push(track.x);\n\n            tracks.push(track);\n\n            // only create track ctrls once\n            if (this.rendered) continue;\n\n            new TrackCtrl({\n                id, yPos, height, container: this.ele,\n                svg: this.ele.querySelector('svg'),\n                trackCount: this.trackCount,\n                isReference: id === 1,\n                onMoveUp: id => { this.moveTrackUp(id) },\n                onMoveDown: id => { this.moveTrackDown(id) },\n                onSetReference: id => { this.setReference(id) },\n                onHide: id => { this.hideTrack(id) },\n                onShow: id => { this.showTrack(id) }\n            })\n        }\n\n        let x = xScales[0]; // x scale is same for all tracks\n\n\n        // add hover cursor lines, initially without x position\n        let cursor = new Cursor({\n            d3, trackCount, svg,\n            scale: x,\n            container: this.ele\n        })\n\n        // add backbone of lcb lines\n        let backbone = new BackBone({\n            scale: x, data, d3, svg\n        })\n\n        function zoomed() {\n            let srcEvent = d3.event.sourceEvent;\n            let newScale = d3.event.transform.rescaleX(xScales[0]);\n\n            // scale each axis\n            for (let i = 0; i < tracks.length; i++) {\n                tracks[i].rescaleAxis();\n            }\n\n            // scale all rectangles\n            if (!srcEvent || srcEvent.type === 'wheel' || srcEvent.type === 'click') {\n                svg.selectAll('.region')\n                    .attr('x', (d) => newScale(d.start))\n                    .attr(\"width\", (d) => newScale(d.end) - newScale(d.start))\n            } else if ((d3.event.sourceEvent.type === 'mousemove')) {\n                svg.selectAll('.region')\n                  .attr(\"x\", (d) => newScale(d.start) );\n            }\n\n            // scale lines\n            backbone.scale(newScale);\n\n            cursor.resetHover(newScale);\n        }\n\n        function reset() {\n            zoom.transform(svg, d3.zoomIdentity);\n        }\n    }\n\n    moveTrackUp(id) {\n        let swapID = id - 1;\n        if (swapID < 1) return;\n\n        this.swapTrack(id, swapID);\n        this.swapBackbones(id, swapID)\n        this.render();\n    }\n\n    moveTrackDown(id) {\n        let swapID = id + 1;\n        if (swapID > this.trackCount) return;\n\n        this.swapTrack(id, swapID);\n        this.swapBackbones(id, swapID)\n        this.render();\n    }\n\n    swapTrack(id, newID) {\n        let swapTrack = this.genomeRegions[newID];\n        this.genomeRegions[newID] = this.genomeRegions[id];\n        this.genomeRegions[id] = swapTrack;\n    }\n\n    swapBackbones(oldID, newID) {\n        this.data.forEach(lcb => {\n            let foundOldRegion = null,\n                foundSwapRegion = null;\n            lcb.forEach(region => {\n                if (region.lcb_idx === oldID)\n                    region.lcb_idx = newID;\n                else if (region.lcb_idx === newID)\n                    region.lcb_idx = oldID;\n            })\n\n            lcb.sort((a, b) => a.lcb_idx - b.lcb_idx)\n        })\n    }\n\n    setReference(id, noRerender) {\n        this.data.forEach(lcb => {\n            let flipped = false;\n\n            // first determine if reference's (region)\n            // strand direction is made positive\n            lcb.forEach(region => {\n                if (region.lcb_idx !== id) return;\n\n                if (region.strand !== '+') {\n                    region.strand = '+';\n                    flipped = true\n                }\n            })\n\n            if (!flipped) return;\n\n            // otherwise, need to flip corresponding regions\n            lcb.forEach(region => {\n                if (region.lcb_idx === id) return;\n                region.strand = region.strand === '-' ? '+' : '-';\n            })\n        })\n\n        if (noRerender) return;\n\n        this.render();\n    }\n\n    hideTrack(id) {\n        this.data.forEach(lcbs => {\n            lcbs.forEach(region => {\n                if (region.lcb_idx == id)\n                    region.hidden = true;\n            })\n        })\n\n        this.hiddenTracks.push(id);\n        this.render();\n    }\n\n    showTrack(id) {\n        this.data.forEach(lcbs => {\n            lcbs.forEach(region => {\n                if (region.lcb_idx == id)\n                    delete region.hidden;\n            })\n        })\n\n        this.hiddenTracks.splice( this.hiddenTracks.indexOf(id));\n        this.render();\n    }\n\n    // gets lcbs that have entry for every organism\n    // deprecated(?)\n    getSharedLCBs(data) {\n        let maxRows = Math.max( ...data.map(lcb => lcb.length) );\n        let filtered = data.filter(lcbs => lcbs.length === maxRows);\n        return filtered;\n    }\n\n    // gets regions for each organism (index); adding ids\n    // also returns connections of regions\n    getGenomeRegions(lcbs) {\n        let regions = {};\n        let regionID = 0;\n        let lcbID = 0;\n        lcbs.forEach((lcb, groupID) => {\n            //lcb.reverse(); // consider last index reference genome\n            lcbID += 1;\n            lcb.forEach((region) => {\n                // increment/add ids to regions\n                regionID += 1;\n                region.id = regionID;\n                region.groupID = groupID;\n\n                let index = region.lcb_idx;\n                if (index in regions)\n                    regions[index].push(region);\n                else\n                    regions[index] = [region];\n            })\n        })\n\n        return {regions, regionCount: regionID, lcbCount: lcbID};\n    }\n\n    initControls() {\n        this.ele.querySelector('.opts-btn').onclick = () => {\n            this.ele.querySelector(\".dd-content\").classList.toggle(\"show\");\n        }\n\n        document.onclick = (evt) => {\n            let dd = this.ele.querySelector('.dropdown');\n            if (dd.contains(evt.target)) return;\n\n            if (!evt.target.matches('.dd-btn')) {\n                var dds = this.ele.getElementsByClassName(\"dd-content\");\n                Array.from(dds).forEach(dd => { dd.classList.remove('show') });\n            }\n        }\n    }\n\n}\n","\nimport {marginTop, trackOffset, ctrlPadding} from './consts';\n\n\nconst btnStyle = 'width: 26px; height: 23px;';\n\nexport class TrackCtrl {\n\n    constructor(params) {\n        this.id = params.id;\n\n        this.container = params.container;\n        this.svg = params.svg;\n        this.trackCount = params.trackCount;\n        this.yPos = params.yPos || marginTop + (this.id - 1) * trackOffset;\n\n        this.ctrls;\n        this.isReference = params.isReference || false;\n        this.hidden;\n\n\n        // control callbacks\n        this.onMoveUp = params.onMoveUp;\n        this.onMoveDown = params.onMoveDown;\n        this.onSetReference = params.onSetReference;\n        this.onHide = params.onHide;\n        this.onShow = params.onShow;\n\n        this.init();\n        return this;\n    }\n\n    init() {\n        this.destroy(); // don't allow more than one controller\n        this.render();\n    }\n\n    render() {\n        let mvPos = this.container.querySelector('.mauve-viewer').getBoundingClientRect(),\n            svgPos = this.svg.getBoundingClientRect(),\n            relativeTop = svgPos.top - mvPos.top;\n\n        // add container\n        let ele = this.node = document.createElement('div');\n        ele.setAttribute('class', `track-ctrl ctrl-${this.id}`);\n        //ele.style.border = \"1px solid black\";\n        ele.style.top = relativeTop  + this.yPos + ctrlPadding + 'px';\n        ele.style.left = '-35px';\n        ele.style.width = '25px';\n        ele.style.height = trackOffset + 'px';\n        ele.style.position = 'absolute';\n\n        this._addMainButtons();\n\n        this.container.querySelector('.mauve-viewer').appendChild(ele)\n    }\n\n    _addMainButtons() {\n        let {upBtn, downBtn, hideBtn, refBtn} = this.ctrls = this._getButtons();\n        this.node.appendChild(upBtn);\n        //this.node.appendChild(hideBtn);\n        this.node.appendChild(refBtn);\n        this.node.appendChild(downBtn);\n\n        if (this.isReference)\n            refBtn.classList.add('active');\n    }\n\n    _getButtons() {\n        let upBtn = document.createElement('button');\n        upBtn.title = 'Move this genome up';\n        upBtn.style = btnStyle;\n        upBtn.innerHTML = '▲';\n        upBtn.disabled = this.id === 1 || false;\n        upBtn.onclick = this.moveTrackUp.bind(this)\n\n        let hideBtn = document.createElement('button');\n        hideBtn.title = 'Hide this genome'\n        hideBtn.style = btnStyle;\n        hideBtn.innerHTML = '−';\n        hideBtn.onclick = this.hideTrack.bind(this);\n\n        let refBtn = document.createElement('button');\n        refBtn.title = 'Set reference genome';\n        refBtn.classList.add('ref-btn');\n        refBtn.style = btnStyle;\n        refBtn.innerHTML = 'R';\n        refBtn.onclick = this.refTrack.bind(this);\n\n        let downBtn = document.createElement('button');\n        downBtn.title = 'Move this genome down';\n        downBtn.style = btnStyle;\n        downBtn.innerHTML = '▼';\n        downBtn.disabled = this.id === this.trackCount || false;\n        downBtn.onclick = this.moveTrackDown.bind(this);\n\n        return {upBtn, downBtn, hideBtn, refBtn}\n    }\n\n    _getShowButton() {\n        let showBtn = document.createElement('button');\n        showBtn.title = 'Show this genome';\n        showBtn.classList.add('show-btn');\n        showBtn.style = btnStyle;\n        showBtn.innerHTML = '+';\n        showBtn.onclick = this.showTrack.bind(this);\n        return showBtn;\n    }\n\n\n    moveTrackUp() {\n        this._selectNewRef(this.id, this.id - 1);\n        this.onMoveUp(this.id);\n    }\n\n    moveTrackDown() {\n        this._selectNewRef(this.id, this.id + 1);\n        this.onMoveDown(this.id);\n    }\n\n    hideTrack() {\n        this.node.innerHTML = '';\n        let showBtn = this._getShowButton();\n        this.node.appendChild(showBtn);\n\n        this.hidden = true;\n        this.onHide(this.id);\n    }\n\n    showTrack() {\n        console.log('called show');\n        this.node.innerHTML = '';\n        this._addMainButtons();\n\n        this.hidden = false;\n        this.onShow(this.id);\n    }\n\n    refTrack() {\n        let eles = this.container.querySelectorAll('.ref-btn');\n        eles.forEach(ele => { ele.classList.remove(\"active\"); });\n        this.ctrls.refBtn.classList.add('active');\n\n        this.onSetReference(this.id);\n        this.isReference = true;\n    }\n\n\n    _selectNewRef(oldID, newID) {\n        let oldCtrl = this.container.querySelector(`.ctrl-${oldID} .ref-btn`),\n            newCtrl = this.container.querySelector(`.ctrl-${newID} .ref-btn`);\n\n        let newCtrlWasActive;\n        if (newCtrl.classList.contains('active')) {\n            newCtrl.classList.remove('active');\n            oldCtrl.classList.add('active');\n            newCtrlWasActive = true;\n        }\n\n        if (oldCtrl.classList.contains('active') && !newCtrlWasActive) {\n            oldCtrl.classList.remove('active');\n            newCtrl.classList.add('active');\n        }\n    }\n\n\n    destroy() {\n        let node = this.container.querySelector(`.ctrl-${this.id}`);\n        if (node) node.remove();\n    }\n}\n","import {schemeCategory20} from './colors';\nimport {marginTop, trackOffset, yPosOffset, lcbHeight} from './consts';\n\n\nexport class Track {\n\n    constructor(params) {\n        this.d3 = params.d3;\n        this.svg = params.svg;\n\n        this.hidden = params.hidden;\n        this.id = params.id;\n        this.name = params.name;\n        this.label = params.label;\n        this.width = params.width;\n        this.xLength = params.xLength;\n        this.regions = params.regions;\n        this.yPos = params.yPos || marginTop + (this.id - 1) * trackOffset;\n\n        // render and expose axis/scale\n        this.x;\n        this.xAxis;\n        this.gX;\n        this.track;\n        this.render();\n\n        return this;\n    }\n\n    render() {\n        if (this.hidden) {\n            this.hiddenTrack();\n            return;\n        }\n\n        let d3 = this.d3;\n\n        this.x = d3.scaleLinear()\n            .domain([1, this.xLength])\n            .range([1, this.width + 1]);\n\n        this.xAxis = d3.axisBottom(this.x)\n            .ticks(5)\n            .tickSize(10)\n            .tickFormat(d3.format(\"d\"));\n\n        let g = this.track = this.svg.append('g')\n            .attr('class', d => `track id-${this.id}`)\n\n        this.gX = g.append(\"g\")\n            .attr('class', `axis axis-x-${this.id}`)\n            .call(this.xAxis)\n            .attr('transform', `translate(0, ${this.yPos})`);\n\n        // add names\n        g.append('text')\n            .attr('x', 0)\n            .attr('y', this.yPos + trackOffset - 5) // -2 padding\n            .text(this.label || this.name)\n            .attr('font-family', \"sans-serif\")\n            .attr('font-size', \"10px\")\n            .attr('fill', '#888');\n\n        if (this.regions)\n            this.addRegions(this.regions);\n    }\n\n    addRegions(regions) {\n        let numOfLCBs = regions.length;\n\n        // add regions\n        this.track.selectAll('rect')\n            .data(regions)\n            .enter()\n            .append('rect')\n            .attr('class', d => `region track-id-${this.id} group-${d.groupID} id-${d.id}`)\n            .attr('x', d => this.x(d.start))\n            .attr('y', d => this._getRegionYPos(this.id, d.strand))\n            .attr('width', d => this.x(d.end - d.start))\n            .attr('height', lcbHeight)\n            .attr('stroke', '#fffff')\n            .attr('fill', d =>  schemeCategory20[(d.groupID % numOfLCBs) % 20] )\n\n        this.regions = regions;\n    }\n\n    hiddenTrack() {\n        let g = this.track\n            .append('g')\n            .attr('class', d => `hidden-track`)\n\n        g.append('rect')\n            .attr('class', d => `hidden-track track-${this.id}`)\n            .attr('x', 0)\n            .attr('y', d => (this.id-1) * trackOffset )\n            .attr('width', d => 10000)\n            .attr('height', 20)\n            .attr('stroke', '#fffff')\n            .attr('fill', d =>  '#aaa')\n\n        g.append('text')\n            .attr('x', 10)\n            .attr('y', this.yPos - 2) // -2 padding\n            .text(this.label || this.name)\n            .attr(\"font-family\", \"sans-serif\")\n            .attr(\"font-size\", \"10px\")\n            .attr(\"fill\", '#222');\n    }\n\n    rescaleAxis() {\n        if (this.hidden) return;\n        this.gX.call(this.xAxis.scale(this.d3.event.transform.rescaleX(this.x)));\n    }\n\n    _getRegionYPos(trackIdx, strandDirection) {\n        return this.yPos + (strandDirection === '-' ? yPosOffset + lcbHeight : yPosOffset);\n    }\n}\n"],"sourceRoot":""}